!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){!function(){const e=document.currentScript,t="https://dev.dkwsystem.com/tracking",n=[{id:"rd_station",name:"RD Station",selector:'[id^="conversion-form"],form[action^="https://www.rdstation.com.br/api"]',isLead:!0},{id:"elementor_form",name:"Elementor Form",selector:"form.elementor-form",isLead:!0},{id:"wordpress_builder_all",name:"Wordpress Builder all",selector:"form.mbwp-form",isLead:!0},{id:"contact_form_7",name:"Contact Form 7",selector:"form.wpcf7-form",isLead:!0},{id:"nuvemshop_register",name:"Nuvemshop Cadastro",selector:'form[data-store="account-register"]',isLead:!0},{id:"nuvemshop_contact",name:"Nuvemshop Contato",selector:'form[data-store="contact-form"]',isLead:!0},{id:"nuvemshop_unlogged_checkout",name:"Nuvemshop Unlogged Checkout",selector:'[id="contact.email"]',isChildSelector:!0,cpfSelector:'[id="billingAddress.id_number"]',phoneSelector:'[id="billingAddress.phone"],[id="shippingAddress.phone"]',isLead:!1,isConversion:!0},{id:"activecampaign",name:"ActiveCampaign",selector:'[action$=".activehosted.com/proc.php"]'},{id:"woocommerce_checkout",name:"Woocommerce Checkout",selector:"form.woocommerce-checkout",emailSelector:"#billing_email",phoneSelector:"#billing_phone",isLead:!1,isConversion:!0},{id:"whatsapp_form",name:"WhatsApp Chat",selector:".whatsapp-form, .chat-form",listen:{selector:"button.chat-send, .whatsapp-button"},isLead:!0},{id:"woocommerce_register",name:"Woocommerce register",selector:"form.woocommerce-form-register",isLead:!0},{id:"generic_contact_form",name:"Formul√°rio de Contato Gen√©rico",selector:'form:not([id^="search"]):not([class*="search"]):not([action*="search"]):not([role="search"]):not([id*="filter"]):not([class*="filter"]):not([id*="comment"]):not([class*="comment"]):not([class*="cart"]):not([id*="cart"]):not([class*="widget"]):not([id*="widget"]):not([class*="product-review"]):not([id*="product-review"])',isLead:!0}],o={email:null,phone:null,name:null,cpfCnpj:null,lastUpdated:null,fieldsSources:{}};function a(){const{email:e,phone:t,name:n}=o;return[t,n].filter(Boolean).length>=2}function r(){try{sessionStorage.setItem("dkw_partial_form_data",JSON.stringify({...o,lastUpdated:Date.now()}))}catch(e){console.warn("[tracking] Erro ao salvar dados parciais:",e)}}function i(){if(sessionStorage.getItem("dkw_partial_form_sent"))return void console.log("[tracking] Evento parcial j√° enviado nesta sess√£o");const e={formId:"incremental_tracking",formType:"incremental_fields",formName:"Formul√°rio Multi-Etapas",email:o.email,phone:o.phone,name:o.name,cpfCnpj:o.cpfCnpj,fieldsSources:o.fieldsSources,collectionMethod:"incremental"};window._dkwThumbmarkVisitor&&(v(window._dkwThumbmarkVisitor,"REGISTER",e),sessionStorage.setItem("dkw_partial_form_sent","true"),Object.keys(o).forEach(e=>{"fieldsSources"!==e&&(o[e]=null)}),r())}function s(){console.log("[tracking] üîç Iniciando busca por campos individuais...");const e={};let t=0,n=0;Object.entries({email:'input[type="email"],input[name*="email" i],input[name*="mail" i],input[id*="email" i],textarea[name*="email" i],textarea[name*="mail" i],textarea[id*="email" i]',phone:'input[type="tel"],input[name*="phone" i],input[name*="tel" i],input[name*="celular" i],input[id*="phone" i],input[id*="tel" i]',name:'input[name*="name" i],input[name*="nome" i],input[id*="name" i],input[id*="nome" i]:not([type="email"]):not([type="tel"]),textarea[name*="name" i],textarea[name*="nome" i],textarea[id*="name" i],textarea[id*="nome" i]',cpfCnpj:'input[name="cpf" i],input[name="cnpj" i],input[name="document" i],input[id*="cpf" i],input[id*="cnpj" i]'}).forEach(([a,i])=>{const s=document.querySelectorAll(i);s.length,t+=s.length,s.forEach((t,i)=>{t.tagName,t.type,t.name,t.id,t.value&&t.value.substring(0,20);const s=t.closest("form");if(s&&s.hasAttribute("data-dkw-tracked"))return;if(t.hasAttribute("data-dkw-field-tracked"))return;t.setAttribute("data-dkw-field-tracked","true"),n++;const c=()=>{const n=t.value.trim();!n||n.length<3||function(t,n,o=1e3){clearTimeout(e[t]),e[t]=setTimeout(n,o)}(`${a}_${i}`,()=>{let e=null;const t=`standalone_${a}_${i}`;switch(a){case"email":e=g(n);break;case"phone":e=p(n);break;case"cpfCnpj":e=f(n);break;case"name":e=n}e&&(console.log(`[tracking] ‚ú® Atualizando campo ${a} no partialFormData`),function(e,t,n="unknown"){t&&t!==o[e]&&(o[e]=t,o.fieldsSources[e]=n,o.lastUpdated=Date.now(),r())}(a,e,t))},2e3)};t.addEventListener("blur",c),t.addEventListener("change",c)})}),console.log(`[tracking] üìä Resumo: ${t} campos encontrados, ${n} campos rastreados`),0===n&&(console.warn("[tracking] ‚ö†Ô∏è ATEN√á√ÉO: Nenhum campo foi rastreado! Poss√≠veis causas:"),console.warn("[tracking]    1. Todos os campos est√£o dentro de formul√°rios j√° rastreados"),console.warn("[tracking]    2. Os campos foram adicionados antes deste script carregar"),console.warn("[tracking]    3. Os seletores n√£o correspondem aos campos da p√°gina")),console.log("[tracking] üì¶ Estado atual dos dados parciais:",{email:o.email||"(vazio)",phone:o.phone||"(vazio)",name:o.name||"(vazio)",cpfCnpj:o.cpfCnpj||"(vazio)",hasMinimumData:a()})}function c(){console.log("[tracking] üîò Iniciando detec√ß√£o de cliques em bot√µes...");let e=0,t=0;['button[type="submit"]','button[type="button"]','input[type="submit"]','button[name*="submit" i]','button[name*="send" i]','button[name*="enviar" i]','button[name*="cadastrar" i]','button[name*="registrar" i]','button[name*="register" i]','button[class*="submit" i]','button[class*="send" i]','button[class*="enviar" i]','button[class*="cadastrar" i]','button[class*="registrar" i]','button[class*="register" i]','a[href*="submit" i]','a[href*="send" i]','a[href*="enviar" i]','a[href*="cadastrar" i]','a[href*="registrar" i]','a[href*="register" i]','button:contains("Enviar")','button:contains("Cadastrar")','button:contains("Registrar")','button:contains("Enviar Mensagem")','button:contains("Fale Conosco")','button:contains("Contato")','button:contains("Submit")','button:contains("Send")','button:contains("Register")','button:contains("Sign Up")','button:contains("Inscrever-se")','button:contains("Assinar")','button:contains("Newsletter")'].forEach(n=>{try{const r=document.querySelectorAll(n);r.forEach((e,n)=>{e.hasAttribute("data-dkw-button-tracked")||(e.setAttribute("data-dkw-button-tracked","true"),t++,e.addEventListener("click",e=>{console.log("[tracking] üñ±Ô∏è Clique detectado em bot√£o, verificando dados..."),a()?(console.log("[tracking] ‚úÖ Dados suficientes encontrados, enviando REGISTER..."),i()):(console.log("[tracking] ‚ùå Dados insuficientes para envio autom√°tico"),console.log("[tracking] üìä Estado atual:",{email:o.email||"(vazio)",phone:o.phone||"(vazio)",name:o.name||"(vazio)",hasMinimumData:a()}))}))}),e+=r.length}catch(e){n.includes(":contains")||console.warn(`[tracking] Erro ao processar seletor ${n}:`,e)}}),document.addEventListener("click",e=>{const t=e.target;if(("BUTTON"===t.tagName||"INPUT"===t.tagName||"A"===t.tagName)&&!t.hasAttribute("data-dkw-button-tracked")){const e=t.textContent&&t.textContent.toLowerCase()||t.value&&t.value.toLowerCase()||"";e.includes("enviar")||e.includes("cadastrar")||e.includes("registrar")||e.includes("submit")||e.includes("send")||e.includes("register")||e.includes("sign up")||e.includes("inscrever")||e.includes("assinar")||e.includes("contato")||e.includes("fale conosco")||"submit"===t.type||t.name&&t.name.toLowerCase().includes("submit")||t.name&&t.name.toLowerCase().includes("send");console.log("[tracking] üñ±Ô∏è Clique detectado em bot√£o din√¢mico:",e),a()&&(console.log("[tracking] ‚úÖ Dados suficientes encontrados, enviando REGISTER..."),i())}}),console.log(`[tracking] üìä Resumo bot√µes: ${e} encontrados, ${t} rastreados`),0===t&&console.warn("[tracking] ‚ö†Ô∏è ATEN√á√ÉO: Nenhum bot√£o foi rastreado! Verifique se os seletores est√£o corretos.")}function d(e,t,n){const o=new Date;o.setTime(o.getTime()+60*n*60*1e3);const a="expires="+o.toUTCString();document.cookie=`${e}=${t}; ${a}; path=/; SameSite=Lax`}function l(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}function u(){if(e&&e.src)try{return new URL(e.src).searchParams.get("token")}catch(e){console.error("[tracking] Erro ao obter token do script atual:",e)}return null}function m(e,n,o=3,a=1e3){return new Promise((r,i)=>{let s=0;!function c(){const d=u(),l=document.createElement("script");l.src=e,l.async=!0,l.onload=()=>{n&&n(),r()},l.onerror=()=>{if(s++,s<o)setTimeout(c,a);else{const n="[tracking] Falha ao carregar script: "+e;console.error(n),fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:d,origin:"FRONTEND",message:n,data:{url:window.location.href,pageName:document.title,userAgent:navigator.userAgent}})}).catch(()=>{}),i(new Error(n))}},document.head.appendChild(l)}()})}function g(e){return e?(e=e.trim().toLowerCase(),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)?e:null):null}function p(e){if(!e)return null;let t=e.replace(/\D/g,"");return/(.)\1{5}/.test(t)||t.length<5||t.length>20?null:(/^55\d{10,11}$/.test(t)&&(t=t.substring(2)),t.length>6?t:"fornecido")}function f(e){if(!e)return null;const t=e.replace(/\D/g,"");return t.length<11||t.length>14?null:t.length>6?t.substring(0,3)+"..."+t.substring(t.length-2):"fornecido"}function h(e){return(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value:e.innerText).trim()}function k(e,t){const n=t.emailSelector||'input[type="email"],input[name="email" i],input[name="mail" i],input[name="e-mail" i],input.email,textarea[name="email" i]',o=t.phoneSelector||'input[type="tel"],input[name="phone" i],input[name="telefone" i],input[name="celular" i],input[name="tel" i]',a=t.cpfSelector||'input[name="cpf" i],input[name="cnpj" i],input[name="document" i],input[id*="cpf" i],input[id*="cnpj" i]',r=t.nameSelector||'input[name="name" i],input[name="nome" i],input[id*="name" i],input[id*="nome" i],textarea[name="name" i],textarea[name="nome" i]',i=e.querySelectorAll(n),s=e.querySelectorAll(o),c=e.querySelectorAll(a),d=e.querySelectorAll(r),l=Array.from(i).map(h).map(g).filter(e=>null!==e),u=Array.from(s).map(h).map(p).filter(e=>null!==e),m=Array.from(c).map(h).map(f).filter(e=>null!==e)[0]||null,k=Array.from(d).map(h).filter(e=>e&&e.trim().length>0)[0]||null,b={formId:e.id||"form_"+Math.random().toString(36).substring(2,9),formType:t.id,formName:t.name,action:e.action,method:e.method,className:e.className};return l.length>0&&(b.email=l[0]),u.length>0&&(b.phone=u[0]),m&&(b.cpfCnpj=m),k&&(b.name=k),b}function b(){let e=l("dkw_visit_id");return e||(e=sessionStorage.getItem("dkw_visit_id"),e&&(d("dkw_visit_id",e,2),d("dkw_visit_sent","true",2))),e}function w(e){n.forEach(t=>{const n=document.querySelectorAll(t.selector);n.length>0&&n.forEach(n=>{if(!n.hasAttribute("data-dkw-tracked")&&(n.setAttribute("data-dkw-tracked","true"),n.addEventListener("submit",n=>{!function(e,t,n){const o=k(e.target,t);v(n,t.isConversion?"SALE":t.isLead?"REGISTER":"FORM",o)}(n,t,e)}),t.listen)){document.querySelectorAll(t.listen.selector).forEach(o=>{o.hasAttribute("data-dkw-tracked")||(o.setAttribute("data-dkw-tracked","true"),o.addEventListener("click",o=>{!function(e,t,n,o){const a=k(t,n);v(o,n.isLead?"REGISTER":"FORM",a)}(0,n,t,e)}))})}})})}async function v(e,n,o={}){const a=E(e),r=u(),i=b();let s=i;if(!i&&(s=await T(a,r),!s))return void fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:r,origin:"FRONTEND",message:"Tentou enviar um evento sem visit Id e falhou ao gerar nova",data:{eventType:n,eventData:o,fingerprint:a,url:window.location.href,pageName:document.title,userAgent:navigator.userAgent}})});console.log("[tracking] Pronto para enviar evento:",n,"com fingerprint:",a);let c=!1;const d={token:r,fingerprint:a,visitId:s,type:n,origin:window.location.hostname,url:window.location.href,pageName:document.title,eventSource:"WEBSITE",eventData:o,createdAt:(new Date).toISOString()};if(navigator.sendBeacon&&["REGISTER","SALE","CONVERSION"].includes(n))try{const e=new Blob([JSON.stringify(d)],{type:"application/json"});if(navigator.sendBeacon(t+"/event",e))return console.log("[tracking] evento enviado com sendBeacon"),c=!0,void fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"SUCCESS",token:r,origin:"FRONTEND",message:`Evento ${n} enviado com sendBeacon`,data:{eventType:n,method:"sendBeacon"}})}).catch(e=>console.error("[tracking] Erro ao enviar log de sucesso:",e))}catch(e){console.warn("[tracking] sendBeacon falhou:",e)}c||fetch(t+"/event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(e=>{if(!e.ok)return e.text().then(t=>{throw new Error(`HTTP ${e.status}: ${t}`)});console.log("[tracking] evento registrado com sucesso via fetch"),fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"SUCCESS",token:r,origin:"FRONTEND",message:`Evento ${n} enviado com fetch`,data:{eventType:n,method:"fetch"}})}).catch(e=>console.error("[tracking] Erro ao enviar log de sucesso:",e))}).catch(e=>{console.error("[tracking] erro ao registrar evento via fetch:",e),fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:r,origin:"FRONTEND",message:`Erro ao enviar evento ${n}: ${e.message}`,data:{eventType:n,eventData:o,error:e.message,url:window.location.href,userAgent:navigator.userAgent,timestamp:(new Date).toISOString()}})}).catch(e=>console.error("[tracking] Erro ao enviar log de erro:",e))})}function S(e){return new URL(window.location.href).searchParams.get(e)}function y(){if(window.crypto&&window.crypto.getRandomValues){const e=new Uint8Array(32);window.crypto.getRandomValues(e);let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(36);return t.substring(0,32)}{let e="";for(let t=0;t<32;t++)e+=Math.floor(36*Math.random()).toString(36);return e}}function E(e){try{let t=l("dkw_fingerprint");return t?(localStorage.setItem("dkw_fingerprint",t),t):(t=localStorage.getItem("dkw_fingerprint"),t?(d("dkw_fingerprint",t,8760),t):e?e.thumbmark:null)}catch(e){return console.error("[tracking] Erro ao obter visitor ID:",e),null}}async function T(e,n){const o=(new UAParser).getResult();let a=null;return console.log("[tracking] registrando nova visita..."),await async function(e,t,n=3,o=1e3){let a=0;return await new Promise((function r(i,s){fetch(e,t).then(e=>e.ok?e.json():e.text().then(t=>{throw console.error("[tracking] erro na resposta:",e.status,t),new Error("HTTP error! status: "+e.status)})).then(i).catch(e=>{a++,a<n?(console.warn(`[tracking] Tentando novamente (${a}/${n}) em ${o}ms...`),setTimeout(()=>r(i,s),o)):s(e)})}))}(t+"/visit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,fingerprint:e,referer:document.referrer,landingPage:window.location.href,userAgent:navigator.userAgent,browser:o.browser.name||"unknown",os:o.os.name||"unknown",device:o.device.model||"unknown",isMobile:"mobile"===o.device.type,utmSource:S("utm_source"),utmMedium:S("utm_medium"),utmCampaign:S("campaignid")||S("utm_campaign"),utmTerm:S("utm_term"),utmContent:S("utm_content"),ad:S("ad"),adName:S("ad_name")||S("adName")||S("utm_adname"),adGroup:S("ad_group")||S("adGroup")||S("utm_adgroup"),adSet:S("adset")||S("ad_set")||S("adSet")||S("utm_adset"),adSetName:S("ad_set_name")||S("adset_name")||S("adSet")||S("utm_adsetname"),adSetId:S("adsetid")||S("ad_set_id")||S("adset_id")||S("adset_id")||S("utm_adsetid"),adId:S("adid")||S("ad_id")||S("adId")||S("utm_adid"),url:window.location.href,click:S("fbclid")||S("gclid")})}).then(e=>{a=e.id,function(e){d("dkw_visit_id",e,2),d("dkw_visit_sent","true",2),sessionStorage.setItem("dkw_visit_id",e),sessionStorage.setItem("dkw_visit_sent","true")}(a)}).catch(o=>{console.error("[tracking] erro ao registrar visita ap√≥s retries:",o),fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:n,origin:"FRONTEND",message:"Erro ao registrar visita ap√≥s retries:",data:{fingerprint:e,url:window.location.href,pageName:document.title,userAgent:navigator.userAgent}})})}),a}function _(){return 0===document.querySelectorAll("form[data-dkw-tracked]").length}function N(){(new ThumbmarkJS.Thumbmark).get().then(async e=>{if(!await function(){localStorage.getItem("verifiedTrackingSession");const e=u(),n=window.location.hostname;let o=null;if(window.dataLayer)for(const e of window.dataLayer)if(e.gtm&&e.gtm.start){o=e["gtm.uniqueEventId"]||null;break}return e?fetch(t+"/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,domain:n})}).then(e=>{if(!e.ok)throw new Error("HTTP error! status: "+e.status);return e.json()}).then(e=>{const t=!0===e.success;return localStorage.setItem("verifiedTrackingSession",t.toString()),t}).catch(n=>(console.error("[tracking] Erro na valida√ß√£o:",n),fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:e,origin:"FRONTEND",message:"Erro na valida√ß√£o: "+n.message,data:{url:window.location.href,pageName:document.title,userAgent:navigator.userAgent}})}),localStorage.setItem("verifiedTrackingSession","false"),!1)):(localStorage.setItem("verifiedTrackingSession","false"),!1)}())return;let n=E();n?console.log("[tracking] Usando visitor ID salvo:",n):(e&&e.thumbmark?(console.log("[tracking] gerando novo fingerprint:",e.thumbmark),n=e.thumbmark):(console.warn("[tracking] ThumbmarkJS falhou em gerar um fingerprint, usando fallback"),n=y()),function(e){if(e)try{localStorage.setItem("dkw_fingerprint",e),d("dkw_fingerprint",e,8760)}catch(e){console.error("[tracking] Erro ao salvar visitor ID:",e)}else console.warn("[tracking] Tentou salvar visitor ID vazio")}(n));const a=u();window._dtrack;if(!a)return fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:a,origin:"FRONTEND",message:"Token n√£o encontrado, interrompendo.",data:{url:window.location.href,pageName:document.title,userAgent:navigator.userAgent}})}),void console.error("[tracking] Token n√£o encontrado, interrompendo.");let r=b();if(!r){const e=await T(n,a);if(!e)return;r=e}window._dkwThumbmarkVisitor=e,v(e,"PAGE_VIEW",{url:window.location.href}),w(e),new MutationObserver(e=>{e.forEach(e=>{if(e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){const n=e.addedNodes[t];if(n.nodeType===Node.ELEMENT_NODE){if(("INPUT"===n.tagName||"TEXTAREA"===n.tagName)&&!n.hasAttribute("data-dkw-field-tracked")){newFieldsAdded=!0;break}if(n.querySelectorAll&&n.querySelectorAll("input:not([data-dkw-field-tracked]),textarea:not([data-dkw-field-tracked])").length>0){newFieldsAdded=!0;break}}}})}).observe(document.body,{childList:!0,subtree:!0}),console.log("[tracking] Nenhum form trackeavel encontrado",_()),_()&&(!function(){try{const e=sessionStorage.getItem("dkw_partial_form_data");if(e){const t=JSON.parse(e);t.lastUpdated&&Date.now()-t.lastUpdated<18e5&&Object.assign(o,t)}}catch(e){console.warn("[tracking] Erro ao carregar dados parciais:",e)}}(),s(),new MutationObserver(e=>{let t=!1;e.forEach(e=>{if(e.addedNodes.length)for(let n=0;n<e.addedNodes.length;n++){const o=e.addedNodes[n];if(o.nodeType===Node.ELEMENT_NODE){if("INPUT"===o.tagName&&!o.hasAttribute("data-dkw-field-tracked")){t=!0;break}if(o.querySelectorAll&&o.querySelectorAll("input:not([data-dkw-field-tracked])").length>0){t=!0;break}}}}),t&&s()}).observe(document.body,{childList:!0,subtree:!0}),c(),new MutationObserver(e=>{let t=!1;e.forEach(e=>{if(e.addedNodes.length)for(let n=0;n<e.addedNodes.length;n++){const o=e.addedNodes[n];if(o.nodeType===Node.ELEMENT_NODE){if(("BUTTON"===o.tagName||"INPUT"===o.tagName||"A"===o.tagName)&&!o.hasAttribute("data-dkw-button-tracked")){t=!0;break}if(o.querySelectorAll&&o.querySelectorAll('button:not([data-dkw-button-tracked]),input[type="submit"]:not([data-dkw-button-tracked]),a:not([data-dkw-button-tracked])').length>0){t=!0;break}}}}),t&&(console.log("[tracking] üîÑ Novos bot√µes detectados, reiniciando rastreamento..."),c())}).observe(document.body,{childList:!0,subtree:!0}))}).catch(e=>{const n=u();fetch(t+"/logs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ERROR",token:n,origin:"FRONTEND",message:"Erro ao inicializar ThumbmarkJS:",data:{url:window.location.href,pageName:document.title,userAgent:navigator.userAgent}})}),console.error("[tracking] Erro ao inicializar ThumbmarkJS:",e)})}!function(t){m("https://cdn.jsdelivr.net/npm/@thumbmarkjs/thumbmarkjs/dist/thumbmark.umd.js",t).catch(()=>{const n=function(){if(e&&e.src)try{const t=new URL(e.src);return t.origin+t.pathname.replace(/\/[^\/]*$/,"/")}catch(e){return console.warn("[tracking] Erro ao obter caminho base do script:",e),"/"}return"/"}()+"scripts/thumbmark.min.js";console.log("[tracking] CDN falhou, tentando vers√£o local..."),m(n,t,2,500).catch(()=>{console.error("[tracking] Ambas as vers√µes falharam, fingerprinting desabilitado"),t()})})}(()=>{m("https://cdn.jsdelivr.net/npm/ua-parser-js@1.0.35/dist/ua-parser.min.js",()=>{N()})})}()}]);